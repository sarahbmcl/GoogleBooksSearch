{"ast":null,"code":"import _defineProperty from \"/Users/sarahmclaughlin/GoogleBooksSearch/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/sarahmclaughlin/GoogleBooksSearch/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sarahmclaughlin/GoogleBooksSearch/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sarahmclaughlin/GoogleBooksSearch/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sarahmclaughlin/GoogleBooksSearch/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sarahmclaughlin/GoogleBooksSearch/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sarahmclaughlin/GoogleBooksSearch/client/src/pages/search/search.js\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport CardList from '../../components/CardList';\nimport Card from 'react-bootstrap/Card';\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      action: 'save',\n      books: [],\n      query: ''\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFormSubmit = function (event) {\n      var form = event.currentTarget;\n\n      if (form.checkValidity() === false) {\n        event.preventDefault();\n        event.stopPropagation();\n      } else {\n        event.preventDefault();\n\n        _this.searchBooks(_this.state.query);\n      }\n    };\n\n    _this.handleSaveBook = function (book) {\n      API.saveBook(book).then(function () {\n        return _this.searchBooks(_this.state.query);\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"searchBooks\",\n    // search googlebooks API and store the data in books array\n    value: function searchBooks(query) {\n      var _this2 = this;\n\n      API.searchBooks(query).then(function (res) {\n        var card = res.data.map(function (book) {\n          return {\n            googleId: book.id,\n            title: book.volumeInfo.title,\n            authors: book.volumeInfo.authors,\n            description: book.volumeInfo.description,\n            image: book.volumeInfo.imageLinks.thumbnail,\n            link: book.volumeInfo.infoLink\n          };\n        });\n\n        _this2.setState({\n          books: card\n        });\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"body\",\n        style: {\n          marginBottom: \"70px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"mt-1 shadow cardz\",\n        style: {\n          marginBottom: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        className: \"cardHeader\",\n        style: {\n          background: \"#4285f4\",\n          color: \"#fff\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        style: {\n          marginBottom: \"0px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Search\")), React.createElement(Card.Body, {\n        style: {\n          background: \"#f2f2f2\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleInputChange,\n        value: this.state.query,\n        query: this.state.query,\n        name: \"query\",\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Search for a Book, Author, or Topic...\",\n        id: \"query\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        disabled: !this.state.query,\n        onClick: this.handleFormSubmit,\n        className: \"btn btn-primary search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Search\"))))))))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"mt-1 shadow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        className: \"cardHeader\",\n        style: {\n          background: \"#4285f4\",\n          color: \"#fff\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        style: {\n          marginBottom: \"0px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Results\")), React.createElement(Card.Body, {\n        style: {\n          background: \"#f2f2f2\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, !this.state.books.length ? React.createElement(\"h2\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Book search will appear here\") : React.createElement(CardList, {\n        books: this.state.books,\n        handleSaveBook: this.handleSaveBook,\n        action: this.state.action,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/sarahmclaughlin/GoogleBooksSearch/client/src/pages/search/search.js"],"names":["React","Component","API","CardList","Card","Search","state","action","books","query","handleInputChange","event","target","name","value","setState","handleFormSubmit","form","currentTarget","checkValidity","preventDefault","stopPropagation","searchBooks","handleSaveBook","book","saveBook","then","catch","error","console","log","res","card","data","map","googleId","id","title","volumeInfo","authors","description","image","imageLinks","thumbnail","link","infoLink","marginBottom","background","color","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport CardList from '../../components/CardList';\nimport Card from 'react-bootstrap/Card';\n\n\n\nclass Search extends Component {\n  \n  state = {\n    action: 'save',\n    books: [],\n    query: ''\n  };\n\n  // search googlebooks API and store the data in books array\n  searchBooks(query) {\n    API.searchBooks(query)\n      .then((res) => {\n        const card = res.data.map((book) => {\n          return {\n            googleId: book.id,\n            title: book.volumeInfo.title,\n            authors: book.volumeInfo.authors,\n            description: book.volumeInfo.description,\n            image: book.volumeInfo.imageLinks.thumbnail,\n            link: book.volumeInfo.infoLink\n          };\n        });\n\n        this.setState({ books: card });\n      })\n      .catch((error) => console.log(error));\n  }\n\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n\n  handleFormSubmit = event => {\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    } else {\n      event.preventDefault();\n      this.searchBooks(this.state.query);\n    }\n\n  };\n\n\n  // saves book to database\n  handleSaveBook = book => {\n    API.saveBook(book)\n      .then(() => this.searchBooks(this.state.query))\n      .catch((error) => console.log(error));\n\n  }\n  \n  \n\n\n  render() {\n    return (\n      <div className=\"body\" style={{ marginBottom: \"70px\" }}>\n        <div className=\"container\">\n\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <Card className=\"mt-1 shadow cardz\" style={{ marginBottom: \"20px\" }}>\n                <Card.Header className=\"cardHeader\" style={{ background: \"#4285f4\", color: \"#fff\" }}>\n                  <h3 style={{ marginBottom: \"0px\" }}>\n                    Search\n                </h3>\n                </Card.Header>\n                <Card.Body style={{ background: \"#f2f2f2\" }}>\n                  <form>\n                    <div className=\"form-group\">\n                      <div className=\"input-group\">\n                        <input\n                          onChange={this.handleInputChange}\n                          value={this.state.query}\n                          query={this.state.query}\n                          name=\"query\"\n                          type=\"text\"\n                          className=\"form-control\"\n                          placeholder=\"Search for a Book, Author, or Topic...\"\n                          id=\"query\"\n                        />\n                        <div className=\"input-group-append\">\n                          <button disabled={!(this.state.query)} onClick={this.handleFormSubmit} className=\"btn btn-primary search\">\n                            Search\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </form>\n                </Card.Body>\n              </Card>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <Card className=\"mt-1 shadow\">\n                <Card.Header className=\"cardHeader\" style={{ background: \"#4285f4\", color: \"#fff\" }}>\n                  <h3 style={{ marginBottom: \"0px\" }}>\n                    Results\n                </h3>\n                </Card.Header>\n                <Card.Body style={{ background: \"#f2f2f2\" }}>\n                  {!this.state.books.length ? (\n                    <h2 className=\"text-center\">Book search will appear here</h2>\n                  ) : (\n                      <CardList\n                        books={this.state.books}\n                        handleSaveBook={this.handleSaveBook}\n                        action={this.state.action}\n                      />\n                    )}\n                </Card.Body>\n              </Card>\n            </div>\n          </div>\n\n\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}